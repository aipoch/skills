#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ELN Template Creator - 电子实验记录本模板生成器

为电子实验记录本生成标准化的实验记录模板。
"""

import argparse
import sys
from datetime import datetime
from typing import Optional


def get_current_date() -> str:
    """获取当前日期 (YYYY-MM-DD)"""
    return datetime.now().strftime("%Y-%m-%d")


def generate_general_template(title: str, researcher: str, date: str, project: str) -> str:
    """生成通用实验模板"""
    return f"""# 实验记录 - {title}

## 1. 实验基本信息

| 项目 | 内容 |
|------|------|
| 实验标题 | {title} |
| 实验日期 | {date} |
| 研究人员 | {researcher} |
| 项目编号 | {project} |
| 记录创建时间 | {datetime.now().strftime("%Y-%m-%d %H:%M")} |

---

## 2. 实验目的

<!-- 描述本实验的研究目标和预期成果 -->

- 
- 
- 

---

## 3. 实验材料与试剂

### 3.1 主要试剂

| 试剂名称 | 规格/纯度 | 批号 | 供应商 | 存储条件 |
|----------|-----------|------|--------|----------|
|          |           |      |        |          |
|          |           |      |        |          |

### 3.2 溶液配制

| 溶液名称 | 配制方法 | 浓度 | 配制日期 | 有效期 |
|----------|----------|------|----------|--------|
|          |          |      |          |        |

### 3.3 样品信息

| 样品编号 | 样品名称 | 来源 | 存储位置 | 备注 |
|----------|----------|------|----------|------|
|          |          |      |          |      |

---

## 4. 实验设备

| 设备名称 | 型号 | 设备编号 | 校准日期 | 使用状态 |
|----------|------|----------|----------|----------|
|          |      |          |          |          |

---

## 5. 实验步骤

### 5.1 实验准备

<!-- 实验前的准备工作 -->

1. 
2. 
3. 

### 5.2 实验操作

<!-- 详细的实验操作步骤 -->

**步骤 1:**
- 
- 

**步骤 2:**
- 
- 

**步骤 3:**
- 
- 

### 5.3 注意事项

- 
- 
- 

---

## 6. 结果记录

### 6.1 原始数据

<!-- 记录原始实验数据 -->

| 序号 | 测量值 | 单位 | 记录时间 | 备注 |
|------|--------|------|----------|------|
| 1    |        |      |          |      |
| 2    |        |      |          |      |
| 3    |        |      |          |      |

### 6.2 观察记录

<!-- 定性观察和现象描述 -->

- 
- 
- 

### 6.3 图表与图像

<!-- 插入实验图像、图表等 -->

| 图像编号 | 描述 | 文件路径 |
|----------|------|----------|
| Fig.1    |      |          |

---

## 7. 数据分析

### 7.1 数据处理方法

<!-- 描述数据分析方法 -->

- 

### 7.2 统计结果

| 指标 | 数值 | 单位 | 标准偏差 | 样本数 |
|------|------|------|----------|--------|
|      |      |      |          |        |

### 7.3 分析结论

<!-- 数据分析的初步结论 -->

- 

---

## 8. 结论与讨论

### 8.1 实验结论

<!-- 总结实验的主要发现 -->

- 

### 8.2 问题与讨论

<!-- 实验中遇到的问题及讨论 -->

- 

### 8.3 改进建议

<!-- 对实验方法的改进建议 -->

- 

---

## 9. 附件与原始数据

### 9.1 文件列表

| 文件名 | 类型 | 描述 | 存储位置 |
|--------|------|------|----------|
|        |      |      |          |

### 9.2 相关文档

- 实验方案: 
- SOP文档: 
- 安全数据表(SDS): 

---

## 10. 审核记录

| 审核人 | 审核日期 | 审核意见 | 签名 |
|--------|----------|----------|------|
|        |          |          |      |

---

*本实验记录遵循 GLP/GMP 规范要求*
"""


def generate_molecular_biology_template(title: str, researcher: str, date: str, project: str) -> str:
    """生成分子生物学实验模板"""
    return f"""# 分子生物学实验记录 - {title}

## 1. 实验基本信息

| 项目 | 内容 |
|------|------|
| 实验类型 | 分子生物学 |
| 实验标题 | {title} |
| 实验日期 | {date} |
| 研究人员 | {researcher} |
| 项目编号 | {project} |
| 记录创建时间 | {datetime.now().strftime("%Y-%m-%d %H:%M")} |

---

## 2. 实验目的

<!-- 描述本实验的研究目标 -->

- 
- 

---

## 3. 核酸信息

### 3.1 DNA/RNA 模板

| 样品名称 | 类型 | 浓度 (ng/μL) | A260/A280 | 来源 | 存储位置 |
|----------|------|--------------|-----------|------|----------|
|          |      |              |           |      |          |

### 3.2 引物信息

| 引物名称 | 序列 (5'→3') | 浓度 (μM) | 供应商 | 存储位置 |
|----------|--------------|-----------|--------|----------|
| Forward  |              |           |        |          |
| Reverse  |              |           |        |          |

---

## 4. 实验材料与试剂

### 4.1 主要试剂

| 试剂名称 | 规格 | 批号 | 供应商 | 存储条件 |
|----------|------|------|--------|----------|
| Taq DNA聚合酶 |      |      |        | -20°C    |
| dNTPs     |      |      |        | -20°C    |
| DNA Marker|      |      |        | -20°C    |
| 琼脂糖    |      |      |        | RT       |
|           |      |      |        |          |

### 4.2 缓冲液与溶液

| 溶液名称 | 配制方法 | 浓度 | 配制日期 | 有效期 |
|----------|----------|------|----------|--------|
| TAE缓冲液 |          | 1X   |          |        |
| 上样缓冲液 |         | 6X   |          |        |
|          |          |      |          |        |

---

## 5. 实验设备

| 设备名称 | 型号 | 设备编号 | 使用状态 |
|----------|------|----------|----------|
| PCR仪    |      |          |          |
| 电泳槽   |      |          |          |
| 凝胶成像系统 |  |          |          |
| 分光光度计 |  |          |          |
| 离心机   |      |          |          |

---

## 6. 实验步骤

### 6.1 PCR反应体系 (____ μL 总体积)

| 组分 | 体积 (μL) | 终浓度 |
|------|-----------|--------|
| 10X PCR Buffer |       | 1X     |
| dNTPs (10 mM each) | | 0.2 mM |
| Forward Primer |       | 0.5 μM |
| Reverse Primer |       | 0.5 μM |
| Template DNA   |       |        |
| Taq Polymerase |       |        |
| ddH₂O          |       |        |

### 6.2 PCR循环条件

| 步骤 | 温度 | 时间 | 循环数 |
|------|------|------|--------|
| 预变性 | 95°C | 5 min | 1     |
| 变性  | 95°C | 30 sec |      |
| 退火  | ____°C | 30 sec | 35   |
| 延伸  | 72°C | 1 min  |      |
| 终延伸 | 72°C | 10 min | 1    |

### 6.3 琼脂糖凝胶电泳

| 参数 | 设置值 |
|------|--------|
| 凝胶浓度 | ____% |
| 电压 | ____ V |
| 电泳时间 | ____ min |

---

## 7. 结果记录

### 7.1 凝胶电泳结果

| 泳道 | 样品 | 预期大小 (bp) | 观察结果 | 备注 |
|------|------|---------------|----------|------|
| 1    | Marker | -            |          |      |
| 2    |        |               |          |      |
| 3    |        |               |          |      |

### 7.2 图像记录

| 图像编号 | 描述 | 凝胶浓度 | 文件路径 |
|----------|------|----------|----------|
| Gel-1    |      |          |          |

---

## 8. 数据分析

### 8.1 产物分析

<!-- 描述PCR产物或克隆结果 -->

- 

### 8.2 测序结果 (如适用)

| 样品名称 | 测序公司 | 测序引物 | 结果文件 |
|----------|----------|----------|----------|
|          |          |          |          |

---

## 9. 结论与讨论

### 9.1 实验结论

- 

### 9.2 问题与改进

- 

---

## 10. 附件

| 文件名 | 类型 | 描述 | 存储位置 |
|--------|------|------|----------|
|        |      |      |          |

---

*本实验记录遵循分子生物学实验室规范*
"""


def generate_chemistry_template(title: str, researcher: str, date: str, project: str) -> str:
    """生成化学合成实验模板"""
    return f"""# 化学合成实验记录 - {title}

## 1. 实验基本信息

| 项目 | 内容 |
|------|------|
| 实验类型 | 化学合成 |
| 实验标题 | {title} |
| 实验日期 | {date} |
| 研究人员 | {researcher} |
| 项目编号 | {project} |
| 记录创建时间 | {datetime.now().strftime("%Y-%m-%d %H:%M")} |
| 反应温度 | ____°C |
| 反应时间 | ____ h |

---

## 2. 实验目的

<!-- 描述合成目标和预期产物 -->

- 
- 

---

## 3. 反应方程式

```
<!-- 在此插入反应方程式 -->

```

---

## 4. 试剂与原料

### 4.1 原料

| 原料名称 | CAS号 | 分子式 | 分子量 | 用量 | 当量 |
|----------|-------|--------|--------|------|------|
|          |       |        |        |      | 1.0  |
|          |       |        |        |      |      |
|          |       |        |        |      |      |

### 4.2 试剂

| 试剂名称 | CAS号 | 规格 | 批号 | 供应商 | 存储条件 |
|----------|-------|------|------|--------|----------|
|          |       |      |      |        |          |
|          |       |      |      |        |          |

### 4.3 溶剂

| 溶剂名称 | 规格 | 用量 | 干燥方法 | 供应商 |
|----------|------|------|----------|--------|
|          |      |      |          |        |

### 4.4 催化剂 (如适用)

| 催化剂名称 | CAS号 | 用量 | 规格 |
|------------|-------|------|------|
|            |       |      |      |

---

## 5. 安全信息

### 5.1 危险警示

| 物质名称 | GHS危险类别 | 防护措施 |
|----------|-------------|----------|
|          |             |          |

### 5.2 个人防护装备

- [ ] 实验服
- [ ] 护目镜
- [ ] 丁腈手套
- [ ] 防毒面具 (如需要)

### 5.3 应急措施

- 皮肤接触: 
- 眼睛接触: 
- 吸入: 

---

## 6. 实验设备

| 设备名称 | 型号 | 设备编号 | 校准日期 |
|----------|------|----------|----------|
| 磁力搅拌器 |     |          |          |
| 旋转蒸发仪 |     |          |          |
| 油浴/水浴 |      |          |          |
| 分析天平 |      |          |          |
| 熔点仪 |        |          |          |
|          |       |          |          |

---

## 7. 实验步骤

### 7.1 反应装置搭建

<!-- 描述反应装置的搭建过程 -->

1. 
2. 
3. 

### 7.2 反应操作

**步骤 1: 加料**
- 

**步骤 2: 反应条件控制**
- 温度: ____°C
- 时间: ____ h
- 搅拌速度: ____ rpm

**步骤 3: 反应监测 (TLC)**
- 展开剂: 
- Rf值: 

### 7.3 后处理

**淬灭:**
- 

**萃取:**
- 

**洗涤:**
- 

**干燥:**
- 干燥剂: 
- 时间: 

---

## 8. 纯化

### 8.1 纯化方法

- [ ] 柱层析
- [ ] 重结晶
- [ ] 蒸馏
- [ ] 其他: ____

### 8.2 柱层析参数

| 参数 | 设置值 |
|------|--------|
| 硅胶规格 |        |
| 洗脱剂 |        |
| 梯度 |        |
| 收集体积 |        |

---

## 9. 产物表征

### 9.1 产物基本信息

| 参数 | 数值 |
|------|------|
| 外观 |      |
| 产量 | ____ mg/g |
| 产率 | ____% |
| 熔点 | ____°C |
| Rf值 |      |

### 9.2 光谱数据

**¹H NMR:**
- 仪器型号: 
- 溶剂: 
- δ (ppm): 

**¹³C NMR:**
- δ (ppm): 

**MS:**
- m/z: 

**IR:**
- cm⁻¹: 

---

## 10. 结果记录

### 10.1 反应观察

- 

### 10.2 TLC图像

| 图像编号 | 描述 | 文件路径 |
|----------|------|----------|
| TLC-1    |      |          |

---

## 11. 结论与讨论

### 11.1 实验结论

- 

### 11.2 问题与改进

- 

---

## 12. 附件

| 文件名 | 类型 | 描述 | 存储位置 |
|--------|------|------|----------|
|        |      |      |          |

---

*本实验记录遵循化学实验室安全规范和GLP要求*
"""


def generate_cell_culture_template(title: str, researcher: str, date: str, project: str) -> str:
    """生成细胞培养实验模板"""
    return f"""# 细胞培养实验记录 - {title}

## 1. 实验基本信息

| 项目 | 内容 |
|------|------|
| 实验类型 | 细胞培养 |
| 实验标题 | {title} |
| 实验日期 | {date} |
| 研究人员 | {researcher} |
| 项目编号 | {project} |
| 记录创建时间 | {datetime.now().strftime("%Y-%m-%d %H:%M")} |
| 生物安全等级 | BSL-____ |

---

## 2. 实验目的

<!-- 描述细胞培养的目的 -->

- 
- 

---

## 3. 细胞信息

### 3.1 细胞系信息

| 参数 | 内容 |
|------|------|
| 细胞名称 |      |
| 细胞类型 |      |
| 来源 |          |
| 传代次数 |      |
| 细胞库编号 |    |
| 支原体检测 |    |

### 3.2 细胞状态

- 细胞密度: 
- 存活率: ____%
- 形态观察: 

---

## 4. 培养基与试剂

### 4.1 培养基配制

| 组分 | 用量 | 终浓度 | 批号 |
|------|------|--------|------|
| 基础培养基 (DMEM/RPMI) |      |        |      |
| 胎牛血清 (FBS) |      | ____% |      |
| 青霉素-链霉素 |      |        |      |
| L-谷氨酰胺 |      |        |      |
| 其他添加剂 |      |        |      |

### 4.2 其他试剂

| 试剂名称 | 规格 | 批号 | 供应商 | 有效期 |
|----------|------|------|--------|--------|
| PBS      |      |      |        |        |
| 胰蛋白酶 |      |      |        |        |
| DMSO     |      |      |        |        |
|          |      |      |        |        |

---

## 5. 实验设备

| 设备名称 | 型号 | 设备编号 | 使用状态 |
|----------|------|----------|----------|
| 生物安全柜 |     |          |          |
| CO₂培养箱 |      |          |          |
| 倒置显微镜 |     |          |          |
| 离心机 |        |          |          |
| 细胞计数器 |     |          |          |
| 水浴锅 |        |          |          |

### 5.1 培养箱设置

| 参数 | 设置值 |
|------|--------|
| 温度 | 37°C   |
| CO₂浓度 | 5%   |
| 湿度 | 饱和   |

---

## 6. 实验步骤

### 6.1 实验准备

1. 生物安全柜紫外消毒 ____ 分钟
2. 预热培养基和 PBS 至 37°C
3. 75%乙醇擦拭工作台面

### 6.2 细胞传代/处理

**步骤 1: 吸除旧培养基**
- 

**步骤 2: PBS洗涤**
- 用量: ____ mL
- 次数: ____ 次

**步骤 3: 消化**
- 胰蛋白酶用量: ____ mL
- 消化时间: ____ min
- 终止消化: 加入 ____ mL 完全培养基

**步骤 4: 离心**
- 转速: ____ rpm
- 时间: ____ min
- 温度: ____°C

**步骤 5: 重悬与计数**
- 重悬体积: ____ mL
- 细胞计数: ____ 个/mL
- 存活率: ____%

**步骤 6: 接种**
- 接种密度: ____ 个/cm²
- 培养体积: ____ mL
- 培养皿/瓶规格: 

---

## 7. 结果记录

### 7.1 每日观察记录

| 日期 | 细胞密度 | 形态 | 培养基颜色 | 污染检查 | 操作 |
|------|----------|------|------------|----------|------|
|      |          |      |            |          |      |

### 7.2 图像记录

| 图像编号 | 放大倍数 | 描述 | 文件路径 |
|----------|----------|------|----------|
| Cell-1   | ____X    |      |          |

### 7.3 细胞生长曲线 (如适用)

| 时间点 | 细胞密度 (个/mL) | 存活率 (%) |
|--------|------------------|------------|
| Day 0  |                  |            |
| Day 1  |                  |            |
| Day 2  |                  |            |
| Day 3  |                  |            |

---

## 8. 冻存/复苏记录 (如适用)

### 8.1 冻存信息

| 参数 | 内容 |
|------|------|
| 冻存日期 |      |
| 细胞批号 |      |
| 冻存密度 | ____ 个/mL |
| 冻存管数 | ____ 支 |
| 冻存液配方 |      |
| 存储位置 | 液氮罐 ____ 号 |

### 8.2 复苏信息

| 参数 | 内容 |
|------|------|
| 复苏日期 |      |
| 复苏后存活率 | ____% |

---

## 9. 结论与讨论

### 9.1 实验结论

- 

### 9.2 问题与改进

- 

---

## 10. 附件

| 文件名 | 类型 | 描述 | 存储位置 |
|--------|------|------|----------|
|        |      |      |          |

---

*本实验记录遵循细胞培养实验室无菌操作规范*
"""


def generate_animal_study_template(title: str, researcher: str, date: str, project: str) -> str:
    """生成动物实验模板"""
    return f"""# 动物实验记录 - {title}

## 1. 实验基本信息

| 项目 | 内容 |
|------|------|
| 实验类型 | 动物实验 |
| 实验标题 | {title} |
| 实验日期 | {date} |
| 研究人员 | {researcher} |
| 项目编号 | {project} |
| 记录创建时间 | {datetime.now().strftime("%Y-%m-%d %H:%M")} |
| IACUC批准号 |      |
| 实验地点 |      |

---

## 2. 实验目的

<!-- 描述动物实验的研究目标 -->

- 
- 

---

## 3. 动物信息

### 3.1 动物来源

| 参数 | 内容 |
|------|------|
| 物种 |      |
| 品系 |      |
| 性别 |      |
| 周龄/月龄 |      |
| 体重范围 | ____ - ____ g |
| 供应商 |      |
| 许可证号 |      |
| 接收日期 |      |

### 3.2 动物分组

| 组别 | 动物编号 | 数量 | 处理方案 | 备注 |
|------|----------|------|----------|------|
| 对照组 |          |      |          |      |
| 实验组1 |         |      |          |      |
| 实验组2 |         |      |          |      |

### 3.3 饲养环境

| 参数 | 设置值 |
|------|--------|
| 温度 | ____°C |
| 湿度 | ____% |
| 光照周期 | ____ h 光照 / ____ h 黑暗 |
| 饲养密度 | ____ 只/笼 |
| 垫料类型 |        |
| 饲料 |          |
| 饮水 |          |

---

## 4. 实验材料与试剂

### 4.1 受试物

| 参数 | 内容 |
|------|------|
| 受试物名称 |      |
| 批号 |          |
| 纯度 |          |
| 配制方法 |      |
| 存储条件 |      |

### 4.2 给药方案

| 参数 | 设置值 |
|------|--------|
| 给药途径 |        |
| 给药体积 | ____ mL/kg |
| 给药频率 |        |
| 给药周期 | ____ 天 |
| 剂量 | ____ mg/kg |

### 4.3 其他试剂

| 试剂名称 | 用途 | 规格 | 批号 | 有效期 |
|----------|------|------|------|--------|
| 麻醉剂 |      |      |      |        |
| 生理盐水 |    |      |      |        |
|          |      |      |      |        |

---

## 5. 实验设备

| 设备名称 | 型号 | 设备编号 | 校准日期 |
|----------|------|----------|----------|
| 电子天平 |      |          |          |
| 注射器 |        |          |          |
|          |       |          |          |

---

## 6. 实验步骤

### 6.1 适应期

- 适应期: ____ 天
- 观察指标: 食欲、活动、体重

### 6.2 实验操作

**步骤 1: 动物标记**
- 标记方法: 
- 

**步骤 2: 基线测量**
- 体重: 
- 一般状态: 

**步骤 3: 给药/处理**
- 
- 

**步骤 4: 观察与记录**
- 
- 

### 6.3 观察指标

| 观察项目 | 观察频率 | 观察方法 |
|----------|----------|----------|
| 体重 | 每日/每周 | 称重 |
| 食物摄入量 | 每日 | 称量 |
| 水摄入量 | 每日 | 称量 |
| 一般状态 | 每日 | 目视观察 |
| 毒性症状 | 每日 | 目视观察 |
| 死亡率 | 每日 | 记录 |

---

## 7. 结果记录

### 7.1 体重变化

| 动物编号 | 组别 | Day 0 | Day 7 | Day 14 | Day 21 | Day 28 |
|----------|------|-------|-------|--------|--------|--------|
|          |      |       |       |        |        |        |

### 7.2 临床症状观察

| 日期 | 动物编号 | 症状描述 | 严重程度 | 处理措施 |
|------|----------|----------|----------|----------|
|      |          |          |          |          |

### 7.3 死亡记录

| 日期 | 动物编号 | 组别 | 死亡时间 | 可能原因 | 解剖发现 |
|------|----------|------|----------|----------|----------|
|      |          |      |          |          |          |

---

## 8. 人道终点

### 8.1 人道终点标准

以下情况需立即实施安乐死:
- 体重下降超过 ____%
- 无法进食或饮水
- 严重呼吸困难
- 严重运动障碍
- 持续抽搐
- 其他: ____

### 8.2 安乐死方法

- 方法: 
- 确认死亡: 

---

## 9. 样本收集

### 9.1 采集样本

| 样本类型 | 采集时间 | 采集方法 | 存储条件 | 样本编号 |
|----------|----------|----------|----------|----------|
| 血液 |          |          |          |          |
| 组织 |          |          |          |          |
| 其他 |          |          |          |          |

### 9.2 样本处理

- 

---

## 10. 结论与讨论

### 10.1 实验结论

- 

### 10.2 问题与改进

- 

---

## 11. 附件

| 文件名 | 类型 | 描述 | 存储位置 |
|--------|------|------|----------|
|        |      |      |          |

---

*本实验记录遵循动物实验伦理和3R原则 (替代、减少、优化)*
"""


def generate_template(exp_type: str, title: str, researcher: str, date: str, project: str) -> str:
    """根据实验类型生成对应的模板"""
    templates = {
        "general": generate_general_template,
        "molecular-biology": generate_molecular_biology_template,
        "chemistry": generate_chemistry_template,
        "cell-culture": generate_cell_culture_template,
        "animal-study": generate_animal_study_template,
    }
    
    generator = templates.get(exp_type, generate_general_template)
    return generator(title, researcher, date, project)


def main():
    parser = argparse.ArgumentParser(
        description="ELN Template Creator - 电子实验记录本模板生成器",
        formatter_class=argparse.RawDescriptionHelpFormatter,
        epilog="""
示例:
  python main.py --type molecular-biology --output pcr_template.md
  python main.py --type chemistry --title "化合物A的合成" --researcher "张三"
  python main.py --type cell-culture --date 2024-01-15
        """
    )
    
    parser.add_argument(
        "--type", "-t",
        type=str,
        required=False,
        choices=["general", "molecular-biology", "chemistry", "cell-culture", "animal-study"],
        help="实验类型 (使用 --list-types 时可选)"
    )
    
    parser.add_argument(
        "--output", "-o",
        type=str,
        default=None,
        help="输出文件路径 (默认输出到 stdout)"
    )
    
    parser.add_argument(
        "--title",
        type=str,
        default="未命名实验",
        help="实验标题 (默认: 未命名实验)"
    )
    
    parser.add_argument(
        "--researcher",
        type=str,
        default="未填写",
        help="研究人员姓名 (默认: 未填写)"
    )
    
    parser.add_argument(
        "--date",
        type=str,
        default=get_current_date(),
        help=f"实验日期 (YYYY-MM-DD 格式, 默认: {get_current_date()})"
    )
    
    parser.add_argument(
        "--project",
        type=str,
        default="未填写",
        help="项目名称/编号 (默认: 未填写)"
    )
    
    parser.add_argument(
        "--list-types",
        action="store_true",
        help="列出支持的实验类型"
    )
    
    args = parser.parse_args()
    
    # 列出支持的实验类型
    if args.list_types:
        print("支持的实验类型:")
        print("  - general         : 通用实验模板")
        print("  - molecular-biology: 分子生物学实验 (PCR、克隆、电泳等)")
        print("  - chemistry       : 化学合成实验")
        print("  - cell-culture    : 细胞培养实验")
        print("  - animal-study    : 动物实验")
        return
    
    # 检查 type 参数
    if not args.type:
        parser.error("--type 是必需的 (使用 --list-types 查看支持的类型)")
    
    # 生成模板
    template_content = generate_template(
        args.type,
        args.title,
        args.researcher,
        args.date,
        args.project
    )
    
    # 输出模板
    if args.output:
        with open(args.output, "w", encoding="utf-8") as f:
            f.write(template_content)
        print(f"✓ 模板已生成: {args.output}")
    else:
        print(template_content)


if __name__ == "__main__":
    main()
